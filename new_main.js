 /*

                            <div class="col-6 col-md-4 col-lg-3">
                                <div class="product product-4">
                                    <figure class="product-media">
                                        <span class="product-label label-primary">Sale</span>
                                        <a href="product.html">
                                            <img src="assets/images/demos/demo-17/products/product-2.jpg" alt="Product image" class="product-image">
                                            <img src="assets/images/demos/demo-17/products/product-2-2.jpg" alt="Product image" class="product-image-hover">
                                        </a>

                                        <div class="product-action-vertical">
                                            <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to wishlist</span></a>
                                            <a href="popup/quickView.html" class="btn-product-icon btn-quickview" title="Quick view"><span>Quick view</span></a>
                                            <a href="#" class="btn-product-icon btn-compare" title="Compare"><span>Compare</span></a>
                                        </div><!-- End .product-action -->

                                        <div class="product-action">
                                            <a href="#" class="btn-product btn-cart"><span>add to cart</span></a>
                                        </div><!-- End .product-action -->
                                    </figure><!-- End .product-media -->

                                    <div class="product-body">
                                        <div class="product-cat">
                                            <a href="#">Shoes</a>
                                        </div><!-- End .product-cat -->
                                        <h3 class="product-title"><a href="product.html">Sandals with lacing</a></h3><!-- End .product-title -->

                                        <div class="product-price">
                                            <span class="new-price">Now $70.00</span>
                                            <span class="old-price">Was $84.00</span>
                                        </div><!-- End .product-price -->
                                    </div><!-- End .product-body -->
                                </div><!-- End .product -->
                            </div><!-- End .col-sm-6 col-md-4 col-lg-3 -->

                            <div class="col-6 col-md-4 col-lg-3">
                                <div class="product product-4">
                                    <figure class="product-media">
                                        <a href="product.html">
                                            <img src="assets/images/demos/demo-17/products/product-3.jpg" alt="Product image" class="product-image">
                                            <img src="assets/images/demos/demo-17/products/product-3-2.jpg" alt="Product image" class="product-image-hover">
                                        </a>

                                        <div class="product-action-vertical">
                                            <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to wishlist</span></a>
                                            <a href="popup/quickView.html" class="btn-product-icon btn-quickview" title="Quick view"><span>Quick view</span></a>
                                            <a href="#" class="btn-product-icon btn-compare" title="Compare"><span>Compare</span></a>
                                        </div><!-- End .product-action -->

                                        <div class="product-action">
                                            <a href="#" class="btn-product btn-cart"><span>add to cart</span></a>
                                        </div><!-- End .product-action -->
                                    </figure><!-- End .product-media -->

                                    <div class="product-body">
                                        <div class="product-cat">
                                            <a href="#">Clothing</a>
                                        </div><!-- End .product-cat -->
                                        <h3 class="product-title"><a href="product.html">Paper bag trousers</a></h3><!-- End .product-title -->
                                        <div class="product-price">
                                            $60.00
                                        </div><!-- End .product-price -->
                                        <div class="product-nav product-nav-dots">
                                            <a href="#" class="active" style="background: #9fac76;"><span class="sr-only">Color name</span></a>
                                            <a href="#" style="background: #333333;"><span class="sr-only">Color name</span></a>
                                        </div><!-- End .product-nav -->
                                    </div><!-- End .product-body -->
                                </div><!-- End .product -->
                            </div><!-- End .col-sm-6 col-md-4 col-lg-3 -->

                            <div class="col-6 col-md-4 col-lg-3">
                                <div class="product product-4">
                                    <figure class="product-media">
                                        <a href="product.html">
                                            <img src="assets/images/demos/demo-17/products/product-7.jpg" alt="Product image" class="product-image">
                                            <img src="assets/images/demos/demo-17/products/product-7-2.jpg" alt="Product image" class="product-image-hover">
                                        </a>

                                        <div class="product-action-vertical">
                                            <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to wishlist</span></a>
                                            <a href="popup/quickView.html" class="btn-product-icon btn-quickview" title="Quick view"><span>Quick view</span></a>
                                            <a href="#" class="btn-product-icon btn-compare" title="Compare"><span>Compare</span></a>
                                        </div><!-- End .product-action -->

                                        <div class="product-action">
                                            <a href="#" class="btn-product btn-cart"><span>add to cart</span></a>
                                        </div><!-- End .product-action -->
                                    </figure><!-- End .product-media -->

                                    <div class="product-body">
                                        <div class="product-cat">
                                            <a href="#">Handbags</a>
                                        </div><!-- End .product-cat -->
                                        <h3 class="product-title"><a href="product.html">Paper straw shopper</a></h3><!-- End .product-title -->
                                        <div class="product-price">
                                            $398.00
                                        </div><!-- End .product-price -->
                                    </div><!-- End .product-body -->
                                </div><!-- End .product -->
                            </div><!-- End .col-sm-6 col-md-4 col-lg-3 -->

                            <div class="col-6 col-md-4 col-lg-3">
                                <div class="product product-4">
                                    <figure class="product-media">
                                        <a href="product.html">
                                            <img src="assets/images/demos/demo-17/products/product-4.jpg" alt="Product image" class="product-image">
                                            <img src="assets/images/demos/demo-17/products/product-4-2.jpg" alt="Product image" class="product-image-hover">
                                        </a>

                                        <div class="product-action-vertical">
                                            <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to wishlist</span></a>
                                            <a href="popup/quickView.html" class="btn-product-icon btn-quickview" title="Quick view"><span>Quick view</span></a>
                                            <a href="#" class="btn-product-icon btn-compare" title="Compare"><span>Compare</span></a>
                                        </div><!-- End .product-action -->

                                        <div class="product-action">
                                            <a href="#" class="btn-product btn-cart"><span>add to cart</span></a>
                                        </div><!-- End .product-action -->
                                    </figure><!-- End .product-media -->

                                    <div class="product-body">
                                        <div class="product-cat">
                                            <a href="#">Handbags</a>
                                        </div><!-- End .product-cat -->
                                        <h3 class="product-title"><a href="product.html">Bucket bag</a></h3><!-- End .product-title -->
                                        <div class="product-price">
                                            $350.00
                                        </div><!-- End .product-price -->
                                        <div class="product-nav product-nav-dots">
                                            <a href="#" class="active" style="background: #e3a84d;"><span class="sr-only">Color name</span></a>
                                            <a href="#" style="background: #f48a5b;"><span class="sr-only">Color name</span></a>
                                            <a href="#" style="background: #333333;"><span class="sr-only">Color name</span></a>
                                        </div><!-- End .product-nav -->
                                    </div><!-- End .product-body -->
                                </div><!-- End .product -->
                            </div><!-- End .col-sm-6 col-md-4 col-lg-3 -->

                            <div class="col-6 col-md-4 col-lg-3">
                                <div class="product product-4">
                                    <figure class="product-media">
                                        <a href="product.html">
                                            <img src="assets/images/demos/demo-17/products/product-5.jpg" alt="Product image" class="product-image">
                                            <img src="assets/images/demos/demo-17/products/product-5-2.jpg" alt="Product image" class="product-image-hover">
                                        </a>

                                        <div class="product-action-vertical">
                                            <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to wishlist</span></a>
                                            <a href="popup/quickView.html" class="btn-product-icon btn-quickview" title="Quick view"><span>Quick view</span></a>
                                            <a href="#" class="btn-product-icon btn-compare" title="Compare"><span>Compare</span></a>
                                        </div><!-- End .product-action -->

                                        <div class="product-action">
                                            <a href="#" class="btn-product btn-cart"><span>add to cart</span></a>
                                        </div><!-- End .product-action -->
                                    </figure><!-- End .product-media -->

                                    <div class="product-body">
                                        <div class="product-cat">
                                            <a href="#">Clothing</a>
                                        </div><!-- End .product-cat -->
                                        <h3 class="product-title"><a href="product.html">Silk-blend kaftan</a></h3><!-- End .product-title -->
                                        <div class="product-price">
                                            $370.00
                                        </div><!-- End .product-price -->
                                    </div><!-- End .product-body -->
                                </div><!-- End .product -->
                            </div><!-- End .col-sm-6 col-md-4 col-lg-3 -->

                            <div class="col-6 col-md-4 col-lg-3">
                                <div class="product product-4">
                                    <figure class="product-media">
                                        <span class="product-label label-new">New</span>
                                        <a href="product.html">
                                            <img src="assets/images/demos/demo-17/products/product-6.jpg" alt="Product image" class="product-image">
                                            <img src="assets/images/demos/demo-17/products/product-6-2.jpg" alt="Product image" class="product-image-hover">
                                        </a>

                                        <div class="product-action-vertical">
                                            <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to wishlist</span></a>
                                            <a href="popup/quickView.html" class="btn-product-icon btn-quickview" title="Quick view"><span>Quick view</span></a>
                                            <a href="#" class="btn-product-icon btn-compare" title="Compare"><span>Compare</span></a>
                                        </div><!-- End .product-action -->

                                        <div class="product-action">
                                            <a href="#" class="btn-product btn-cart"><span>add to cart</span></a>
                                        </div><!-- End .product-action -->
                                    </figure><!-- End .product-media -->

                                    <div class="product-body">
                                        <div class="product-cat">
                                            <a href="#">Clothing</a>
                                        </div><!-- End .product-cat -->
                                        <h3 class="product-title"><a href="product.html">Linen-blend jumpsuit</a></h3><!-- End .product-title -->
                                        <div class="product-price">
                                            $595.00
                                        </div><!-- End .product-price -->
                                    </div><!-- End .product-body -->
                                </div><!-- End .product -->
                            </div><!-- End .col-sm-6 col-md-4 col-lg-3 -->

                            <div class="col-6 col-md-4 col-lg-3">
                                <div class="product product-4">
                                    <figure class="product-media">
                                        <span class="product-label label-sale">Sale</span>
                                        <a href="product.html">
                                            <img src="assets/images/demos/demo-17/products/product-8.jpg" alt="Product image" class="product-image">
                                            <img src="assets/images/demos/demo-17/products/product-8-2.jpg" alt="Product image" class="product-image-hover">
                                        </a>

                                        <div class="product-action-vertical">
                                            <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to wishlist</span></a>
                                            <a href="popup/quickView.html" class="btn-product-icon btn-quickview" title="Quick view"><span>Quick view</span></a>
                                            <a href="#" class="btn-product-icon btn-compare" title="Compare"><span>Compare</span></a>
                                        </div><!-- End .product-action -->

                                        <div class="product-action">
                                            <a href="#" class="btn-product btn-cart"><span>add to cart</span></a>
                                        </div><!-- End .product-action -->
                                    </figure><!-- End .product-media -->

                                    <div class="product-body">
                                        <div class="product-cat">
                                            <a href="#">Shoes</a>
                                        </div><!-- End .product-cat -->
                                        <h3 class="product-title"><a href="product.html">Sandals</a></h3><!-- End .product-title -->
                                        <div class="product-price">
                                            <span class="new-price">Now $120.00</span>
                                            <span class="old-price">Was $140.00</span>
                                        </div><!-- End .product-price -->
                                    </div><!-- End .product-body -->
                                </div><!-- End .product -->
                            </div><!-- End .col-sm-6 col-md-4 col-lg-3 -->
 */
 let shop = document.getElementById("shopitems");

 //console.log(shopDetails.price );   
 let totalItems =JSON.parse(localStorage.getItem("totalItems")) || []
 let loopshop = () => {
    return shop.innerHTML = shopDetails.map((x) => {
        let {id,image1,image2,title,category,price} = x;
        let search= totalItems.find((x)=> x.id === id) || []
        return `
        <div class="col-6 col-md-4 col-lg-3">
        <div class="product product-4" id="product-${id}">
            <figure class="product-media">
                <a href="product.html">
                    <img src="${image1}" alt="Product image" class="product-image">
                    <img src="${image2 }" alt="Product image" class="product-image-hover">
                </a>
    
                <div class="product-action-vertical">
                    <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to wishlist</span></a>
                    <a href="popup/quickView.html" class="btn-product-icon btn-quickview" title="Quick view"><span>Quick view</span></a>
                    <a href="#" class="btn-product-icon btn-compare" title="Compare"><span>Compare</span></a>
                </div><!-- End .product-action -->
    
                <div class="product-action">
                    <span class="text-center" style="background-color: #000f00; color: #fff; width: 100%; text-transform: uppercase; cursor:pointer" onclick="increment(${id})">add to cart</span>
                </div><!-- End .product-action -->
            </figure><!-- End .product-media -->
    
            <div class="product-body ml-5">
                <div class="product-cat">
                    <a href="#">${category}</a>
                </div><!-- End .product-cat -->
                <h3 class="product-title"><a href="product.html">${title}</a></h3><!-- End .product-title -->
                <div class="product-price text-center ml-1" >
                    $ ${price}.00
                </div><!-- End .product-price -->
               
            </div><!-- End .product-body -->
        </div><!-- End .product -->
    </div><!-- End .col-sm-6 col-md-4 col-lg-3 -->
    
        ` 
    })
 }
 loopshop()

 //Creating the increment function
// document.getElementById("increment")
let counter = 0
let increment = (id) => {
    //console.log(id   );
    let selectedItems = id;
    let search = totalItems.find((x) => 
    x.id == selectedItems)
    if (search === undefined){
        totalItems.push({
            id: selectedItems,
            item: 1
        })
    }else{
        search.item +=1
    }
    //console.log(selectedItems);
    //totalItems.item +=1
    // console.log(totalItems);
    update(selectedItems)
    // listItems()
    localStorage.setItem("totalItems", JSON.stringify(totalItems))
    // updateCart()
    
    
}

 //Creating the decrement function  

 let decrement = (id) => {
    let selectedItems = id;
    let search = totalItems.find((x) => 
    x.id == selectedItems)
    if (search === undefined ){
        return
    }else if (search === 0 ){
        return
    }else{
        if (search.item > 0){
            search.item -=1
        }
    }
    update(selectedItems);
    totalItems = totalItems.filter((x) => x.item !== 0 )
    //console.log(selectedItems);
    //totalItems.item +=1
    // console.log(totalItems);
    //update()
    
    // counter-=1
    localStorage.setItem("totalItems", JSON.stringify(totalItems))
    listItems()
    updateCart()
 }
  //Creating the update function

let update = (id) => {
    let search = totalItems.find((x) => 
    x.id === id)
    //document.getElementById("update").innerHTML = search.item
    updateCart()
    listItems()
    totalPriceFunction()
    //localStorage.setItem("totalItems", JSON.stringify(totalItems))

}

let updateCart =() =>{
    //let total= 0
    let search = totalItems.map((x) => x.item).reduce((x,y)=>x+y,0)
   // console.log(totalItems.item);
    //console.log(totalItems);
    // console.log(search);
    // for (let i = 0; i<search; i++){
    //     total+=i
    // }
    document.getElementById("update").innerHTML = search
}
updateCart()

let total= document.getElementById("total")
let shoppingCart = document.getElementById("shoppingCart")

let listItems = () =>  {
    if (totalItems.length != 0){
        return shoppingCart.innerHTML = totalItems.map((x) => {
            console.log(x);
            let {id, item }= x
            let search = shopDetails.find((y) => y.id===id) || []
            return `
            <div class="product">
            <div class="product-cart-details">
            <h4 class="product-title">
            <a href="product.html">${search.title}</a>
                </h4>

                <span class="cart-product-info">
                    <span class="cart-product-qty">${item}</span>
                    x ${search.price}.00 = $${item * search.price}.00
                </span>
                <div>
                    <i id="decrement" onclick="decrement(${id})" class="icon-minus"></i>
                    <span id="${id}">${item}</span>
                    <i id="increment" onclick="increment(${id})" class="icon-plus"></i>
                </div>
            </div><!-- End .product-cart-details -->

            <figure class="product-image-container">
                <a href="product.html" class="product-image">
                    <img src="${search.image1}" alt="product">
                </a>
                </figure>
                <a href="#" onclick="removeItem(${id})" class="btn-remove" title="Remove Product"><i class="icon-close"></i></a>
        </div><!-- End .product -->
        
        `
        }) 
    }else{
         shoppingCart.innerHTML = `
            <p> Cart is empty </p>
         `
    }
}
listItems()
let removeItem=(id)=>{
    let selectedItems = id
    totalItems = totalItems.filter((x) => x.id !== selectedItems)
    localStorage.setItem("totalItems", JSON.stringify(totalItems))
    listItems()
    updateCart()
    totalPriceFunction()

}

let totalprice = document.getElementById("totalItemPrice")
let totalPriceFunction = () =>{
    if (totalItems.length !== 0){
        let amount = totalItems.map((x)=>{
            let {id, item} = x
            let search = shopDetails.find((y) => y.id=== id) || []
            let total = item * search.price
            return total
        }).reduce((x,y) => x + y , 0)
        totalprice.innerHTML =  `$ ${amount}, 00`
        console.log(amount);
    }else{
        totalprice.innerHTML = '$ 0'
    }
}
totalPriceFunction()

let clearCart =()=>{
    totalItems=[]
    listItems()
    updateCart()
    localStorage.setItem("totalItems", JSON.stringify(totalItems))
    totalPriceFunction()
    document.getElementById('') = 0

}
